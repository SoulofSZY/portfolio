## 微服务

### 单体应用的疼点

注意： 这个和具体业务规模相关；小规模，传统的单体模式更合适（LAMP/ MVC）

1. 部署效率低下。 java应用通病，启动耗时多，尤其是业务庞大的情况下
2. 团队协作开发成本高。 阻塞全体开发测试人员
3. 系统高可用性差。 短板问题明显
4. 线上发布变慢。  传统公司小项目还好，中大型互联网公司，上百台服务器部署。  

### 服务化
> 服务化就是把传统的单机应用中通过jar包依赖产生的本地方法调用，改造成通过RPC接口产生的远程方法的调用

技巧：编写业务代码时，对于一些通用的业务逻辑，尽力把它抽象并独立成为专门的模块，这样对于代码的复用和业务理解都大有裨益

服务化，可以解决单体应用膨胀，团队开发耦合度高，协作效率低下的问题

### 微服务

相对于服务化的不同点
 
1. 服务拆分粒度更细。 只要某个模块依赖的资源与其他模块都没有关系，就可以拆分成一个微服务
2. 服务独立部署。 每个微服务都严格遵循独立打包部署的准则，互不影响。 这样也有利于机器资源的利用
3. 服务独立维护。 每个微服务都可以交由一个小团队甚至个人来开发，测试，发布和运维，并对整个生命周期负责。团队效率会越来越高
4. 服务治理能力要求高。 服务数量变多，需要统一的服务治理平台。

微服务化，给服务发布和部署以及服务保障带来诸多好处。

**总结**

>微服务的发展由来，它是由单体应用进化到服务化拆分部署，后期随着移动互联网规模的不断扩大，敏捷开发、持续交付、DevOps理论的发展和实践，以及基于Docker容器化技术的成熟，微服务架构开始流行，逐渐成为应用架构的未来演进方向
>
>总结来说，微服务架构是将复杂臃肿的单体应用进行细粒度的服务化拆分，每个拆分出来的服务各自独立打包部署，并交由小团队进行开发和运维，从而极大地提高了应用交付的效率，并被各大互联网公司所普遍采用。


**经验**

1. 服务化拆分最好不要涉及跨数据库表交互
2. 拆分微服务先要把业务梳理清楚，做到心中有数，梳理清楚了那么业务的边界自然清晰了，自然而然对应拆分哪些服务也出来了，拆分的过程中一定是绞杀式的，新的需求自然放到拆分的微服务，老的逻辑按照优先级和重要程度一个点一个点的从单体迁移微服务，服务化上线之后，渐渐取代老的单体，等全部拆分完毕，线上稳定之后，自然就可以下掉老的单体应用 
3. 数据库拆分其实不是微服务拆分的关键，如果会引入分布式事务的话，最好不要拆分
4. 微服务架构的核心在于服务治理，而容器是对运维方式的改变，通过容器标准化发布部署

